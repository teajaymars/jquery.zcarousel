jQuery.fn.zcarousel=function(g){function n(a){var b=$(a.target),a=b.width(),e=b.height(),a=a/e;b.css({width:c.width(),height:Math.round(c.width()*(1/a))});d&&(d.stop(),d=null);j.color="#fff";a=Math.min(0,(c.height()-b.height())/2);b.css("top",a+"px");b.fadeIn("fast",function(){$(".carousel-image").hide();b.show()})}function k(a){var b=i.find("div"),e=$("<div/>").html(a.caption).appendTo(i),f=e.height();e.hide();b.length?b.stop().fadeOut(100,"linear",function(){b.remove();e.fadeIn(100)}):e.fadeIn(100);
i.stop().animate({opacity:1,height:f},500);a.domElement?(a.domElement.hide(),a.domElement.remove().appendTo(c),a.domElement.fadeIn("fast",function(){$(".carousel-image").hide();a.domElement.show()}),d&&(d.stop(),d=null)):(d||(d=(new Spinner(j)).spin(c[0])),f=$('<img class="carousel-image"/>'),f.css({position:"absolute","z-index":-1,left:0,top:0,display:"none"}),f.load(n),f.attr("src",a.url).appendTo(c),a.domElement=f)}function l(a){a.preventDefault();h=(h+(a.target==m[0]?-1:1)+g.length)%g.length;
k(g[h])}var j={lines:13,length:7,width:4,radius:10,rotate:0,color:"#000",speed:1,trail:60,shadow:!1,hwaccel:!1,className:"spinner",zIndex:2E9,top:"auto",left:"auto"},c=this;c.addClass("zcarousel-main");var m=$('<a href="#" class="zcarousel-nav zcarousel-nav-left" />').html("\u2039").appendTo(c),o=$('<a href="#" class="zcarousel-nav zcarousel-nav-right"/>').html("\u203a").appendTo(c),d=null,i=$('<div class="zcarousel-caption"/>').appendTo(c),h=0;o.click(l);m.click(l);k(g[h])};
